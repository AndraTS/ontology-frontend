
<!-- <?xml version="1.0" encoding="UTF-8"?>
<!eeditorditorDOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> -->

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

<h:head>
</h:head>
<h:body>

	<h1 class="title ui-widget-header ui-corner-all"
		style="text-align: center">Welcome</h1>

	<h:form id="alerts">


	</h:form>
	<h:form id="form">
		<p:tabView dynamic="true" cache="false">
			<p:tab id="t1" title="Environment Configuration">
				<h:panelGrid columns="2" cellpadding="5">
					<p:outputLabel for="greenHouse" value="GreenHouse: " />
					<p:inputText id="greenHouse"
						value="#{ConfigurationController.environment.greenHouseName}" />


					<p:outputLabel for="plant" value="Plant:" />
					<p:selectOneMenu id="plant"
						value="#{ConfigurationController.selectedPlant}"
						style="width:170px">
						<f:selectItem itemLabel="Select a plant" itemValue=""
							noSelectionOption="true" />
						<f:selectItems value="#{ConfigurationController.plants}" />
					</p:selectOneMenu>

					<p:outputLabel for="seedingMoment" value="Seeding Moment:" />
					<p:calendar id="seedingMoment"
						value="#{ConfigurationController.environment.seedingMoment}" />


					<p:outputLabel for="expectation" value="Expectations: " />
					<p:inputText id="expectation"
						value="#{ConfigurationController.environment.expectations}" />
				</h:panelGrid>

				<p:growl id="growl" life="3000" />
				<p:commandButton value="Submit"
					action="#{ConfigurationController.submitConfiguration}"
					icon="ui-icon-check" process="@form" update="growl" />

			</p:tab>

			<p:tab title="Environment Monitoring">

				<p:panel header="Green house monitoring" style="margin-bottom:10px;">
					<h:panelGrid columns="4" cellpadding="5">
						<p:outputLabel for="gH" value="Green House: " />

						<p:selectOneMenu id="gH"
							value="#{MonitoringController.selectedGreenHouse.greenHouseName}"
							style="width:160px">
							<p:ajax listener="#{MonitoringController.onGreenHouseChange}"
								update="dashboard splant" process="@this" />
							<f:selectItem itemLabel="Select Green House" itemValue=""
								noSelectionOption="true" />
							<f:selectItems value="#{MonitoringController.greenHouses}" />
						</p:selectOneMenu>


						<p:outputLabel for="splant" value="Plant: " />
						<h:outputText id="splant"
							value="#{MonitoringController.selectedGreenHouse.plant.name}"
							style="color: blue" />
					</h:panelGrid>

					<p:separator />

					<p:layout id="dashboard" style="min-width:400px;min-height:500px;">

						<p:layoutUnit position="west" resizable="true" size="320">
							<h:outputText value="Optimal growth conditions:" />

							<p:panelGrid columns="2" style="width: 300; height: 300">

								<f:facet name="header">
									<p:graphicImage
										name="/home/andra/git/ontology-frontend/Files/Pictures/Sera.png" />
								</f:facet>

								<h:outputText value="Temperature Min:" />
								<h:outputText
									value="#{MonitoringController.selectedGreenHouse.plant.optimalConditions.minTemperature} °C"
									style="color: green" />

								<h:outputText value="Temperature Max:" />
								<h:outputText
									value="#{MonitoringController.selectedGreenHouse.plant.optimalConditions.maxTemperature} °C"
									style="color: green" />

								<h:outputText value="Humidity Min:" />
								<h:outputText
									value="#{MonitoringController.selectedGreenHouse.plant.optimalConditions.minMoisture} %"
									style="color: green" />

								<h:outputText value="Humidity Max:" />
								<h:outputText
									value="#{MonitoringController.selectedGreenHouse.plant.optimalConditions.maxMoisture} %"
									style="color: green" />

								<h:outputText value="CO2 Min:" />
								<h:outputText
									value="#{MonitoringController.selectedGreenHouse.plant.optimalConditions.minCo2} PPM"
									style="color: green" />

								<h:outputText value="CO2 Max:" />
								<h:outputText
									value="#{MonitoringController.selectedGreenHouse.plant.optimalConditions.maxCo2} PPM"
									style="color: green" />
							</p:panelGrid>
						</p:layoutUnit>

						<p:layoutUnit position="center">

							<p:poll interval="5" listener="#{MonitoringController.readData}"
								update="charts, alerts" />

							<h:form id="charts">
								<h:outputText value="#{MonitoringController.alert}" />
								<p:chart id="tempChart" type="line"
									model="#{MonitoringController.temperatureModel}"
									style="height:300px;" />

								<p:chart id="humChart" type="line"
									model="#{MonitoringController.moistureModel}"
									style="height:300px;" />

								<p:chart id="co2Chart" type="line"
									model="#{MonitoringController.co2Model}" style="height:300px;" />
							</h:form>
						</p:layoutUnit>

					</p:layout>

				</p:panel>

			</p:tab>
			<p:tab title="Feedback">
			</p:tab>
		</p:tabView>
	</h:form>

</h:body>
</html>
